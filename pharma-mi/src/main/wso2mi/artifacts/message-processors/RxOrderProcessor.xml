<?xml version="1.0" encoding="UTF-8"?>
<messageProcessor xmlns="http://ws.apache.org/ns/synapse"
                  name="RxOrderProcessor"
                  class="org.apache.synapse.message.processor.impl.forwarder.ScheduledMessageForwardingProcessor"
                  messageStore="RxOrderStore"
                  targetEndpoint="PrescriptionOrderEP">

    <!-- Run every 4 seconds -->
    <parameter name="interval">4000</parameter>

    <parameter name="is.active">true</parameter>
    <parameter name="concurrency">1</parameter>

    <!-- No retry on successful HTTP codes -->
    <parameter name="non.retry.status.codes">200,201,202</parameter>

    <!-- Single attempt; if it fails, it is dropped (demo simplicity) -->
    <parameter name="max.delivery.attempts">1</parameter>
    <parameter name="max.delivery.drop">Enabled</parameter>

    <parameter name="message.processor.reply.sequence">ProcessorAsyncReplySeq</parameter>
    <parameter name="message.processor.deactivate.sequence">ProcessorAsyncDeactivateSeq</parameter>
</messageProcessor>
